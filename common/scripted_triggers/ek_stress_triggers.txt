is_substance_abuser = {
	OR = {
		has_trait = drunkard
		has_trait = hashishiyah
		
		# EK additions
		has_trait = skooma_drinker
	}
}

can_be_skooma_drinker = {
	is_adult = yes
	NOR = { # Can not be Temperate or already have a Substance Abuse trait.
		is_substance_abuser = yes
		has_trait = temperate
	}

	OR = {
		### Khajiits can always get skooma
		faith = {
			religion_tag = khajiiti_religion
		}
		culture = { has_cultural_pillar = heritage_khajiiti }
		
		### And those who live in Elsweyr too
		AND = {
			OR = {
				AND = {
					exists = capital_province
					capital_province = {
						save_temporary_scope_as = my_home_province
					}
				}
				AND = {
					exists = liege
					exists = liege.capital_province
					liege = {
						capital_province = {
							save_temporary_scope_as = my_home_province
						}
					}
				}
			}
			scope:my_home_province = {
				geographical_region = mundus_tamriel_elsweyr
			}
		}
	}
}

# We divide the stress traits into two categories, good (green background and some stat bonus) and bad (red background and stat malus)
has_positive_stress_trigger = {
	OR = {
		has_trait = journaller
		has_trait = confider
		has_trait = athletic
		has_trait = experimentalist
	}
}
has_negative_stress_trigger = {
	OR = {
		has_trait = drunkard
		has_trait = hashishiyah
		has_trait = rakish
		has_trait = reclusive
		has_trait = irritable
		has_trait = flagellant
		has_trait = profligate
		has_trait = improvident
		has_trait = contrite
		has_trait = comfort_eater
		has_trait = inappetetic
		
		# EK additions
		has_trait = skooma_drinker
	}
}
