#####################
##  PATRON TRAITS  ##
#####################

patron_trait_master_trigger = {
	OR = {
		# Divines
		$TRIGGER$ = { TRAIT = _dv_akatosh }
		$TRIGGER$ = { TRAIT = _dv_arkay }
		$TRIGGER$ = { TRAIT = _dv_dibella }
		$TRIGGER$ = { TRAIT = _dv_julianos }
		$TRIGGER$ = { TRAIT = _dv_kynareth }
		$TRIGGER$ = { TRAIT = _dv_mara }
		$TRIGGER$ = { TRAIT = _dv_stendarr }
		$TRIGGER$ = { TRAIT = _dv_zenithar }
		$TRIGGER$ = { TRAIT = _dv_shezarr }
		# Aedra
		$TRIGGER$ = { TRAIT = _ae_auriel }
		$TRIGGER$ = { TRAIT = _ae_jephre }
		$TRIGGER$ = { TRAIT = _ae_magnus }
		$TRIGGER$ = { TRAIT = _ae_phynaster }
		$TRIGGER$ = { TRAIT = _ae_syrabane }
		$TRIGGER$ = { TRAIT = _ae_trinimac }
		$TRIGGER$ = { TRAIT = _ae_xarxes }
		$TRIGGER$ = { TRAIT = _ae_xen }
		# Daedra
		$TRIGGER$ = { TRAIT = _ob_azura }
		$TRIGGER$ = { TRAIT = _ob_boethiah }
		$TRIGGER$ = { TRAIT = _ob_clavicus }
		$TRIGGER$ = { TRAIT = _ob_hermaeus }
		$TRIGGER$ = { TRAIT = _ob_hircine }
		$TRIGGER$ = { TRAIT = _ob_malacath }
		$TRIGGER$ = { TRAIT = _ob_mehrunes }
		$TRIGGER$ = { TRAIT = _ob_mephala }
		$TRIGGER$ = { TRAIT = _ob_meridia }
		$TRIGGER$ = { TRAIT = _ob_molag }
		$TRIGGER$ = { TRAIT = _ob_namira }
		$TRIGGER$ = { TRAIT = _ob_nocturnal }
		$TRIGGER$ = { TRAIT = _ob_peryite }
		$TRIGGER$ = { TRAIT = _ob_sanguine }
		$TRIGGER$ = { TRAIT = _ob_sheogorath }
		$TRIGGER$ = { TRAIT = _ob_vaermina }
		# Dwemer Ancestors
		$TRIGGER$ = { TRAIT = _da_architect }
		$TRIGGER$ = { TRAIT = _da_giant }
		$TRIGGER$ = { TRAIT = _da_lost_king }
		$TRIGGER$ = { TRAIT = _da_warrior }
		# Atmoran Totems
		$TRIGGER$ = { TRAIT = _at_bear }
		$TRIGGER$ = { TRAIT = _at_dragon }
		$TRIGGER$ = { TRAIT = _at_fox }
		$TRIGGER$ = { TRAIT = _at_hawk }
		$TRIGGER$ = { TRAIT = _at_moth }
		$TRIGGER$ = { TRAIT = _at_owl }
		$TRIGGER$ = { TRAIT = _at_snake }
		$TRIGGER$ = { TRAIT = _at_whale }
		$TRIGGER$ = { TRAIT = _at_wolf }
		$TRIGGER$ = { TRAIT = _at_hare }
		# Elemental Gods
		$TRIGGER$ = { TRAIT = _eg_myn }
		$TRIGGER$ = { TRAIT = _eg_zisa }
		$TRIGGER$ = { TRAIT = _eg_nyfa }
		$TRIGGER$ = { TRAIT = _eg_ilni }
		$TRIGGER$ = { TRAIT = _eg_tam }
		# Cyrodiilic Heroes
		$TRIGGER$ = { TRAIT = _ch_alessia }
		$TRIGGER$ = { TRAIT = _ch_pelinal }
		$TRIGGER$ = { TRAIT = _ch_morihaus }
		$TRIGGER$ = { TRAIT = _ch_reman }
		$TRIGGER$ = { TRAIT = _ch_bendu }
		# Thousand Cults
		$TRIGGER$ = { TRAIT = _tc_aka }
		$TRIGGER$ = { TRAIT = _tc_missing }
		$TRIGGER$ = { TRAIT = _tc_land }
		$TRIGGER$ = { TRAIT = _tc_moth }
		$TRIGGER$ = { TRAIT = _tc_beasts }
		$TRIGGER$ = { TRAIT = _tc_love }
		$TRIGGER$ = { TRAIT = _tc_guilds }
		$TRIGGER$ = { TRAIT = _tc_heavens }
		# Yokudan Pantheon
		$TRIGGER$ = { TRAIT = _yp_diagna }
		$TRIGGER$ = { TRAIT = _yp_morwha }
		$TRIGGER$ = { TRAIT = _yp_onsi }
		$TRIGGER$ = { TRAIT = _yp_ruptga }
		$TRIGGER$ = { TRAIT = _yp_satakal }
		$TRIGGER$ = { TRAIT = _yp_tava }
		$TRIGGER$ = { TRAIT = _yp_tuwhacca }
		$TRIGGER$ = { TRAIT = _yp_zeht }
		$TRIGGER$ = { TRAIT = _yp_leki }
		$TRIGGER$ = { TRAIT = _yp_hoonding }
		# Tribunal Pantheon
		$TRIGGER$ = { TRAIT = _tr_vivec }
		$TRIGGER$ = { TRAIT = _tr_almalexia }
		$TRIGGER$ = { TRAIT = _tr_sotha }
		# Velothi Saints
    	$TRIGGER$ = { TRAIT = _vl_aralor }
    	$TRIGGER$ = { TRAIT = _vl_felms }
    	$TRIGGER$ = { TRAIT = _vl_meris }
    	$TRIGGER$ = { TRAIT = _vl_nerevar }
    	$TRIGGER$ = { TRAIT = _vl_olms }
    	$TRIGGER$ = { TRAIT = _vl_rilms }
    	$TRIGGER$ = { TRAIT = _vl_seryn }
    	$TRIGGER$ = { TRAIT = _vl_veloth }
    	$TRIGGER$ = { TRAIT = _vl_vorys }
		$TRIGGER$ = { TRAIT = _vl_llothis }
		# Khajiiti Pantheon
		$TRIGGER$ = { TRAIT = _kj_baandar }
		# Forgotten Gods
		$TRIGGER$ = { TRAIT = _fg_notorgo }
    	$TRIGGER$ = { TRAIT = _fg_raen }
    	$TRIGGER$ = { TRAIT = _fg_vigryl }
    	$TRIGGER$ = { TRAIT = _fg_shandar }
    	$TRIGGER$ = { TRAIT = _fg_jhimsei }
		$TRIGGER$ = { TRAIT = _fg_druaaga }
    	$TRIGGER$ = { TRAIT = _fg_qolwen }
    	$TRIGGER$ = { TRAIT = _fg_sai }
    	$TRIGGER$ = { TRAIT = _fg_ebonarm }
    	$TRIGGER$ = { TRAIT = _fg_ius }
		# Magna Ge
		$TRIGGER$ = { TRAIT = _mg_mnemoli }
    	$TRIGGER$ = { TRAIT = _mg_xerolyg }
		#Reman
		$TRIGGER$ = { TRAIT = _rm_light_of_man }
		$TRIGGER$ = { TRAIT = _rm_the_cyrodiil }
		$TRIGGER$ = { TRAIT = _rm_worldly_god }
		#Trinimac
		$TRIGGER$ = { TRAIT = _tm_paragon }
		$TRIGGER$ = { TRAIT = _tm_gold_champ }
		$TRIGGER$ = { TRAIT = _tm_blade_of_courage }
	}
}

patron_has_any_trait = {
	has_trait_with_flag = patron_trait
}

patron_has_specific_trait = {
	patron_trait_master_trigger = { TRIGGER = patron_has_given_trait }
}

patron_has_given_trait = {
	trigger_if = {
		limit = { scope:trait = flag:$TRAIT$ }
		has_trait = p$TRAIT$
	}
	trigger_else = { always = no }
}

# Valid Triggers - tenets, doctrines and anything alse allowing a patron trait should be here
# They are all in a faith scope. this is necessary for the list generation in the ui as there may be no character of a given faith

# Specific requirements #
patron_can_have_anti_undeath_god = {
	NOR = {
		has_doctrine_parameter = anti_undeath_gods_blocker
	}
}

# Pantheons #
patron_PANTHEON_valid = { # For when we group an entire pantheon together (Divines, Aedra, ...)
	has_doctrine_parameter = pantheon_adds_deities_$PANTHEON$
}
patron_PATRON_valid = { # For when we add a specific deity (secondary pantheons)
	has_doctrine_parameter = pantheon_adds_deity_$PATRON$
}

patron_divines_valid = { patron_PANTHEON_valid = { PANTHEON = divines } }
patron_aedra_valid = { patron_PANTHEON_valid = { PANTHEON = aedra } }
patron_dwemer_ancestors_valid = { patron_PANTHEON_valid = { PANTHEON = dwemer_ancestors } }
patron_atmoran_totems_valid = { patron_PANTHEON_valid = { PANTHEON = atmoran_totems } }
patron_elemental_valid = { patron_PANTHEON_valid = { PANTHEON = elemental } }
patron_cyrodiilic_heroes_valid = { patron_PANTHEON_valid = { PANTHEON = cyrodiilic_heroes } }
patron_thousand_cults_valid = { patron_PANTHEON_valid = { PANTHEON = thousand_cults } }
patron_yokudan_valid = { patron_PANTHEON_valid = { PANTHEON = yokudan } }
patron_ragada_valid = { patron_PANTHEON_valid = { PANTHEON = ragada } }
patron_tribunal_valid = { patron_PANTHEON_valid = { PANTHEON = tribunal } }
patron_riddlethar_valid = { patron_PANTHEON_valid = { PANTHEON = riddlethar } }
patron_khajiiti_valid = { patron_PANTHEON_valid = { PANTHEON = khajiiti } }
patron_redguard_valid = { patron_PANTHEON_valid = { PANTHEON = redguard } }
patron_nord_valid = { patron_PANTHEON_valid = { PANTHEON = nord } }
patron_nedic_valid = { patron_PANTHEON_valid = { PANTHEON = nedic } }
patron_green_pact_valid = { patron_PANTHEON_valid = { PANTHEON = green_pact } }
patron_forgotten_gods_valid = { patron_PANTHEON_valid = { PANTHEON = forgotten_gods } }
patron_nerevar_valid = { patron_PANTHEON_valid = { PANTHEON = nerevar} }
patron_magna_ge_valid = { patron_PANTHEON_valid = { PANTHEON = magna_ge } }
patron_lilmothiit_valid = { patron_PANTHEON_valid = { PANTHEON = lilmothiit } }
patron_old_gods_valid = { patron_PANTHEON_valid = { PANTHEON = old_gods } }
patron_reman_valid = { patron_PANTHEON_valid = { PANTHEON = reman } }
patron_trinimac_valid = { patron_PANTHEON_valid = { PANTHEON = trinimac } }

# Daedra #
patron_daedra_valid = {
	has_doctrine_parameter = adds_$DAEDRA$_pantheon_active #is the prince part of the pantheon?
	#NOT = { has_doctrine_parameter = worship_$DAEDRA$_focused_active } #and not the sole focus
}

patron_ob_azura_valid = { patron_daedra_valid = { DAEDRA = azura }}

patron_ob_boethiah_valid = { patron_daedra_valid = { DAEDRA = boethiah }}

patron_ob_clavicus_valid = { patron_daedra_valid = { DAEDRA = clavicus }}

patron_ob_hermaeus_valid =  { patron_daedra_valid = { DAEDRA = hermaeus }}

patron_ob_hircine_valid = {	patron_daedra_valid = { DAEDRA = hircine }}

patron_ob_jyggalag_valid = { always = no }

patron_ob_malacath_valid = { patron_daedra_valid = { DAEDRA = malacath }}

patron_ob_mehrunes_valid = { patron_daedra_valid = { DAEDRA = mehrunes }}

patron_ob_mephala_valid = {	patron_daedra_valid = { DAEDRA = mephala }}

patron_ob_meridia_valid = { patron_daedra_valid = { DAEDRA = meridia }}		

patron_ob_molag_valid = { patron_daedra_valid = { DAEDRA = molag }}

patron_ob_namira_valid = { patron_daedra_valid = { DAEDRA = namira }}

patron_ob_nocturnal_valid = { patron_daedra_valid = { DAEDRA = nocturnal }}

patron_ob_peryite_valid = { patron_daedra_valid = { DAEDRA = peryite }}

patron_ob_sanguine_valid = { patron_daedra_valid = { DAEDRA = sanguine }}

patron_ob_sheogorath_valid = { patron_daedra_valid = { DAEDRA = sheogorath }}

patron_ob_vaermina_valid = { patron_daedra_valid = { DAEDRA = vaermina }}

# Divines #
patron_dv_akatosh_valid = {
	OR = {
		patron_divines_valid = yes
		patron_redguard_valid = yes
		patron_PATRON_valid = { PATRON = akatosh }
	}
}
patron_dv_arkay_valid = {
	OR = {
		patron_divines_valid = yes
		patron_nedic_valid = yes
		patron_redguard_valid = yes
		patron_ragada_valid = yes
		patron_PATRON_valid = { PATRON = arkay }
		patron_PATRON_valid = { PATRON = arkay_nede }
	}
	patron_can_have_anti_undeath_god = yes
}
patron_dv_dibella_valid = {
	OR = {
		patron_divines_valid = yes
		patron_nedic_valid = yes
		patron_old_gods_valid = yes
		patron_PATRON_valid = { PATRON = dibella }
		patron_PATRON_valid = { PATRON = dibella_nede }
	}
}
patron_dv_julianos_valid = {
	OR = {
		patron_divines_valid = yes
		patron_PATRON_valid = { PATRON = julianos }
	}
}
patron_dv_kynareth_valid = {
	OR = {
		patron_riddlethar_valid = yes
		patron_khajiiti_valid = yes
		patron_divines_valid = yes
		patron_redguard_valid = yes
		patron_nedic_valid = yes
		patron_ragada_valid = yes
		patron_PATRON_valid = { PATRON = kynareth }
		patron_PATRON_valid = { PATRON = kynareth_nede }
	}
}
patron_dv_mara_valid = {
	OR = {
		patron_riddlethar_valid = yes
		patron_khajiiti_valid = yes
		patron_divines_valid = yes
		patron_aedra_valid = yes
		patron_nedic_valid = yes
		patron_green_pact_valid = yes
		patron_old_gods_valid = yes
		patron_PATRON_valid = { PATRON = mara }
	}
}
patron_dv_stendarr_valid = {
	OR = {
		patron_riddlethar_valid = yes
		patron_khajiiti_valid = yes
		patron_divines_valid = yes
		patron_green_pact_valid = yes
		patron_aedra_valid = yes
		patron_PATRON_valid = { PATRON = stendarr }
	}
}
patron_dv_zenithar_valid = {
	OR = {
		patron_divines_valid = yes
		patron_redguard_valid = yes
		patron_nedic_valid = yes
		patron_ragada_valid = yes
		patron_PATRON_valid = { PATRON = zenithar }
		patron_PATRON_valid = { PATRON = zenithar_nede }
	}
}
patron_dv_shezarr_valid = {
	OR = {
		patron_nedic_valid = yes
		patron_lilmothiit_valid = yes
		patron_old_gods_valid = yes
		patron_PATRON_valid = { PATRON = shezarr }
		patron_PATRON_valid = { PATRON = shezarr_nede }
	}	
}

# Aedra #
patron_ae_auriel_valid = {
	OR = {
		patron_riddlethar_valid = yes
		patron_khajiiti_valid = yes
		patron_aedra_valid = yes
		patron_green_pact_valid = yes
		patron_PATRON_valid = { PATRON = auriel }
	}
}
patron_ae_syrabane_valid = {
	OR = {
		patron_aedra_valid = yes
		patron_PATRON_valid = { PATRON = syrabane }
	}
}
patron_ae_trinimac_valid = {
	OR = {
		patron_aedra_valid = yes
		patron_PATRON_valid = { PATRON = trinimac }
	}
}
patron_ae_xarxes_valid = {
	OR = {
		patron_aedra_valid = yes
		patron_green_pact_valid = yes
		patron_PATRON_valid = { PATRON = xarxes }
	}
}
patron_ae_xen_valid = {
	OR = {
		patron_aedra_valid = yes
		patron_green_pact_valid = yes
		patron_PATRON_valid = { PATRON = xen }
	}
}
patron_ae_jephre_valid = {
	OR = {
		patron_green_pact_valid = yes
		patron_aedra_valid = yes
		patron_lilmothiit_valid = yes
		patron_PATRON_valid = { PATRON = yffre }
	}
}
patron_ae_magnus_valid = {
	OR = {
		patron_riddlethar_valid = yes
		patron_khajiiti_valid = yes
		patron_aedra_valid = yes
		patron_PATRON_valid = { PATRON = magnus }
		patron_magna_ge_valid = yes
	}
}
patron_ae_phynaster_valid = {
	OR = {
		patron_aedra_valid = yes
		patron_PATRON_valid = { PATRON = phynaster }
	}
}

# Dwemer Ancestors #
patron_da_architect_valid = { patron_dwemer_ancestors_valid = yes }
patron_da_giant_valid = { patron_dwemer_ancestors_valid = yes }
patron_da_lost_king_valid = { patron_dwemer_ancestors_valid = yes }
patron_da_warrior_valid = { patron_dwemer_ancestors_valid = yes }

# Atmoran Totems
patron_at_dragon_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = dragon }
	}
}
patron_at_hawk_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = hawk }
		patron_nord_valid = yes
		patron_PATRON_valid = { PATRON = kyne }
	}
}
patron_at_moth_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = moth }
		patron_nord_valid = yes
		patron_PATRON_valid = { PATRON = nord_dibella }
	}
}
patron_at_owl_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = owl }
		patron_nord_valid = yes
		patron_PATRON_valid = { PATRON = jhunal }
	}
}
patron_at_snake_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = snake }
	}
}
patron_at_whale_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = whale }
		patron_nord_valid = yes
		patron_PATRON_valid = { PATRON = stuhn }
	}
}
patron_at_bear_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = bear }
		patron_nord_valid = yes
		patron_PATRON_valid = { PATRON = tsun }
	}
}
patron_at_fox_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = fox }
		patron_nord_valid = yes
		patron_PATRON_valid = { PATRON = shor }
	}
}
patron_at_wolf_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = wolf }
		patron_nord_valid = yes
		patron_PATRON_valid = { PATRON = nord_mara }
	}
}
patron_at_hare_valid = {
	OR = {
		patron_atmoran_totems_valid = yes
		patron_PATRON_valid = { PATRON = hare }
	}
}

# Elemental Gods
patron_eg_myn_valid = { patron_elemental_valid = yes }
patron_eg_zisa_valid = { patron_elemental_valid = yes }
patron_eg_nyfa_valid = { patron_elemental_valid = yes }
patron_eg_ilni_valid = { patron_elemental_valid = yes }
patron_eg_tam_valid = {
	patron_elemental_valid = yes
	# has_doctrine = tenet_syncretism_pantheon_divines
	# Uuuuuh idk how to handle it so we'll let it fester until we add Akavir proper ig lol
}

# Cyrodiilic Heroes
patron_ch_alessia_valid = { 
	OR = {
		patron_cyrodiilic_heroes_valid = yes
		patron_PATRON_valid = { PATRON = alessia }
	}
}
patron_ch_pelinal_valid = { 
	OR = {
		patron_cyrodiilic_heroes_valid = yes
		patron_PATRON_valid = { PATRON = pelinal }
	}
}
patron_ch_morihaus_valid = { 
	OR = {
		patron_cyrodiilic_heroes_valid = yes
		patron_PATRON_valid = { PATRON = morihaus }
	}
}
patron_ch_reman_valid = { 
	OR = {
		patron_cyrodiilic_heroes_valid = yes
		patron_redguard_valid = yes
		patron_PATRON_valid = { PATRON = reman }
	}
}
patron_ch_bendu_valid = { 
	OR = {
		patron_cyrodiilic_heroes_valid = yes
		patron_PATRON_valid = { PATRON = bendu }
	}
}

# Thousand Cults
patron_tc_aka_valid = { patron_thousand_cults_valid = yes }
patron_tc_missing_valid = { patron_thousand_cults_valid = yes }
patron_tc_land_valid = { patron_thousand_cults_valid = yes }
patron_tc_moth_valid = { patron_thousand_cults_valid = yes }
patron_tc_beasts_valid = { patron_thousand_cults_valid = yes }
patron_tc_love_valid = { patron_thousand_cults_valid = yes }
patron_tc_guilds_valid = { patron_thousand_cults_valid = yes }
patron_tc_heavens_valid = { patron_thousand_cults_valid = yes }

# Yokudan Pantheon
patron_yp_diagna_valid = { 
	OR = { 
		patron_yokudan_valid = yes
		patron_ragada_valid = yes
	}
}

patron_yp_morwha_valid = { 
	OR = { 
		patron_yokudan_valid = yes
		patron_ragada_valid = yes
		patron_redguard_valid = yes
		patron_PATRON_valid = { PATRON = morwha }
	} 
}
patron_yp_onsi_valid = { 
	OR = { 
		patron_yokudan_valid = yes
		patron_ragada_valid = yes
		patron_redguard_valid = yes
		patron_PATRON_valid = { PATRON = onsi }
	} 
}
patron_yp_ruptga_valid = { 
	OR = { 
		patron_yokudan_valid = yes
		patron_ragada_valid = yes
		patron_redguard_valid = yes
		patron_PATRON_valid = { PATRON = ruptga }
	} 
}
patron_yp_satakal_valid = { patron_yokudan_valid = yes }

patron_yp_tava_valid = { patron_yokudan_valid = yes }

patron_yp_tuwhacca_valid = { 
	patron_yokudan_valid = yes
	patron_can_have_anti_undeath_god = yes
}

patron_yp_zeht_valid = { patron_yokudan_valid = yes }

patron_yp_leki_valid = { 
	OR = { 
		patron_yokudan_valid = yes
		patron_ragada_valid = yes
	}
}

patron_yp_hoonding_valid = { 
	OR = { 
		patron_yokudan_valid = yes
		patron_ragada_valid = yes
	} 
}

# Tribunal Pantheon
patron_tr_vivec_valid = { patron_tribunal_valid = yes }
patron_tr_almalexia_valid = { patron_tribunal_valid = yes }
patron_tr_sotha_valid = { patron_tribunal_valid = yes }
# Velothi Saints - These guys are handled differently, they are chosen by the Great Houses Dynasts (TODO)
# patron_vl_aralor_valid = { patron_tribunal_valid = yes }
# patron_vl_felms_valid = { patron_tribunal_valid = yes }
# patron_vl_meris_valid = { patron_tribunal_valid = yes }
# patron_vl_nerevar_valid = { patron_tribunal_valid = yes }
# patron_vl_olms_valid = { patron_tribunal_valid = yes }
# patron_vl_rilms_valid = { patron_tribunal_valid = yes }
# patron_vl_seryn_valid = { patron_tribunal_valid = yes }
# patron_vl_veloth_valid = { patron_tribunal_valid = yes }
# patron_vl_vorys_valid = { patron_tribunal_valid = yes }
patron_vl_aralor_valid = { always = no }
patron_vl_felms_valid = { always = no }
patron_vl_meris_valid = { always = no }
patron_vl_nerevar_valid = { 
	OR = {
		patron_nerevar_valid = yes 
		patron_PATRON_valid = { PATRON = nerevar }
	}
}
patron_vl_olms_valid = { always = no }
patron_vl_rilms_valid = { always = no }
patron_vl_seryn_valid = { always = no }
patron_vl_veloth_valid = { always = no }
patron_vl_vorys_valid = { always = no }
patron_vl_llothis_valid = { always = no }

# Khajiiti Pantheon
patron_kj_baandar_valid = { 
	OR = { 
		patron_green_pact_valid = yes
		patron_riddlethar_valid = yes
		patron_khajiiti_valid = yes
	} 
}

# Forgotten Gods
patron_fg_notorgo_valid = { patron_forgotten_gods_valid = yes }
patron_fg_raen_valid = { patron_forgotten_gods_valid = yes }
patron_fg_vigryl_valid = { patron_forgotten_gods_valid = yes }
patron_fg_shandar_valid = { patron_forgotten_gods_valid = yes }
patron_fg_jhimsei_valid = { patron_forgotten_gods_valid = yes }
patron_fg_druaaga_valid = { patron_forgotten_gods_valid = yes }
patron_fg_qolwen_valid = { patron_forgotten_gods_valid = yes }
patron_fg_sai_valid = { patron_forgotten_gods_valid = yes }
patron_fg_ebonarm_valid = { patron_forgotten_gods_valid = yes }
patron_fg_ius_valid = { patron_forgotten_gods_valid = yes }

# Magna-Ge
patron_mg_mnemoli_valid = { 
	OR = {
		patron_magna_ge_valid = yes
		patron_PATRON_valid = { PATRON = mnemoli }
	}
 
}
patron_mg_xerolyg_valid = { 
	OR = {
		patron_magna_ge_valid = yes 
		patron_PATRON_valid = { PATRON = xerolyg }
	}
}

#Reman
patron_rm_light_of_man_valid = {
	OR = {
		patron_reman_valid = yes
		patron_PATRON_valid = { PATRON = light_of_man }
	}
}
patron_rm_the_cyrodiil_valid = {
	OR = {
		patron_reman_valid = yes
		patron_PATRON_valid = { PATRON = the_cyrodiil }
	}
}
patron_rm_worldly_god_valid = {
	OR = {
		patron_reman_valid = yes
		patron_PATRON_valid = { PATRON = worldly_god }
	}
}

#Trinimac
patron_tm_paragon_valid = {
	OR = {
		patron_trinimac_valid = yes
		patron_PATRON_valid = { PATRON = paragon }
	}
}
patron_tm_gold_champ_valid = {
	OR = {
		patron_trinimac_valid = yes
		patron_PATRON_valid = { PATRON = gold_champ }
	}
}
patron_tm_blade_of_courage_valid = {
	OR = {
		patron_trinimac_valid = yes
		patron_PATRON_valid = { PATRON = blade_of_courage }
	}
}

patron_culture_variant_trigger = {
	exists = var:associated_culture
	trigger_if = {
		limit = {
			OR = {
				has_doctrine = doctrine_cultural_identity_heritage
				has_doctrine = doctrine_cultural_identity_heritage_exclusive
			}
		}
		var:associated_culture = { has_cultural_pillar = $HERITAGE$ }
	}
	trigger_else_if = {
		limit = {
			OR = {
				has_doctrine = doctrine_cultural_identity_culture
				has_doctrine = doctrine_cultural_identity_culture_exclusive
			}
		}
		var:associated_culture = {
			has_cultural_pillar = $HERITAGE$
			has_cultural_pillar = $LANGUAGE$
		}
	}
	trigger_else = { always = no }
}
patron_culture_culture_variant_trigger = {
	exists = var:associated_culture
	trigger_if = {
		limit = {
			OR = {
				has_doctrine = doctrine_cultural_identity_culture
				has_doctrine = doctrine_cultural_identity_culture_exclusive
			}
		}
		var:associated_culture = $CULTURE$
	}
	trigger_else = { always = no }
}
patron_culture_variant_window_trigger = {
	exists = var:faith_window
	var:faith_window = {
		patron_culture_variant_trigger = { HERITAGE = $HERITAGE$ LANGUAGE = $LANGUAGE$ }
	}
}
patron_culture_culture_variant_window_trigger = {
	exists = var:faith_window
	var:faith_window = {
		patron_culture_culture_variant_trigger = { CULTURE = $CULTURE$ }
	}
}

# OR = {
# 	var:associated_culture = culture:reachfolk #language and heritge? does hybriding force pick one from each parent
# 	var:associated_culture = {
# 		any_parent_culture_or_above = { #a parent culture is reachfolk
# 			THIS = culture:reachfolk
# 		}
# 		NOT = {	#all of the parents are divergent
# 			any_parent_culture_or_above = {
# 				is_hybrid_culture = yes
# 			}
# 		}
# 	}
# }

######################
##  ACTIVE PATRONS  ##
######################

has_active_patron_selected = {
	exists = var:patron_shown
}

# is_worshipping_daedra = { #This one for the active patrons
# 	OR = {
# 		faith = {
# 			OR = {
# 				has_doctrine_parameter = adds_$DAEDRA$_pantheon_active
# 				has_doctrine_parameter = worship_$DAEDRA$_allowed_active
# 			}
# 		}
# 		is_secretly_worshipping_$DAEDRA$ = yes
# 	}
# }

is_worshipping_daedra = { #This one for the active patrons
	OR = {
		faith = { has_doctrine_parameter = adds_$DAEDRA$_pantheon_active }
		AND = {
			faith = { has_doctrine_parameter = worship_$DAEDRA$_allowed_active }
			is_worshipping_$DAEDRA$ = yes
		}
		is_secretly_worshipping_$DAEDRA$ = yes
	}
}

is_devoted_daedra = {
	OR = {
		has_trait = p_ob_$DAEDRA$ #here for testing
		has_character_flag = worshipping_$DAEDRA$ #does nothing currently 12/6/22 - idea is that a char has to specifically seek non-pantheon princes, like finding appropriate offerings to make and shit
	}
}

is_worshipping_azura = {
	is_devoted_daedra = { DAEDRA = azura }
}
is_worshipping_boethiah = {
	is_devoted_daedra = { DAEDRA = boethiah }
}
is_worshipping_clavicus = {
	is_devoted_daedra = { DAEDRA = clavicus }
}
is_worshipping_hermaeus = {
	is_devoted_daedra = { DAEDRA = hermaeus }
}
is_worshipping_hircine = {
	is_devoted_daedra = { DAEDRA = hircine }
}
is_worshipping_malacath = {
	is_devoted_daedra = { DAEDRA = malacath }
}
is_worshipping_mehrunes = {
	is_devoted_daedra = { DAEDRA = mehrunes }
}
is_worshipping_mephala = {
	is_devoted_daedra = { DAEDRA = mephala }
}
is_worshipping_meridia = {
	is_devoted_daedra = { DAEDRA = meridia }
}
is_worshipping_molag = {
	is_devoted_daedra = { DAEDRA = molag }
}
is_worshipping_namira = {
	is_devoted_daedra = { DAEDRA = namira }
}
is_worshipping_nocturnal = {
	is_devoted_daedra = { DAEDRA = nocturnal }
}
is_worshipping_peryite = {
	is_devoted_daedra = { DAEDRA = peryite }
}
is_worshipping_sanguine = {
	is_devoted_daedra = { DAEDRA = sanguine }
}
is_worshipping_sheogorath = {
	is_devoted_daedra = { DAEDRA = sheogorath }
}
is_worshipping_vaermina = {
	is_devoted_daedra = { DAEDRA = vaermina }
}

# Aggregate Triggers #
patron_has_princes = {
	OR = {
		is_worshipping_daedra = { DAEDRA = azura }
		is_worshipping_daedra = { DAEDRA = boethiah }
		is_worshipping_daedra = { DAEDRA = clavicus }
		is_worshipping_daedra = { DAEDRA = hermaeus }
		is_worshipping_daedra = { DAEDRA = hircine }
		#is_worshipping_daedra = { DAEDRA = jyggalag }
		is_worshipping_daedra = { DAEDRA = malacath }
		is_worshipping_daedra = { DAEDRA = mehrunes }
		is_worshipping_daedra = { DAEDRA = mephala }
		is_worshipping_daedra = { DAEDRA = meridia }
		is_worshipping_daedra = { DAEDRA = molag }
		is_worshipping_daedra = { DAEDRA = namira }
		is_worshipping_daedra = { DAEDRA = nocturnal }
		is_worshipping_daedra = { DAEDRA = peryite }
		is_worshipping_daedra = { DAEDRA = sanguine }
		is_worshipping_daedra = { DAEDRA = sheogorath }
		is_worshipping_daedra = { DAEDRA = vaermina }
	}
}

patron_has_tribunal = { #TODO update when velothi/tribunal faiths ready
	always = no
	# OR = {
	# patron_almalexia_valid = yes
	# patron_sotha_valid = yes
	# patron_vivec_valid = yes
	# }
}

patron_has_patron = {
	OR = {
		patron_has_princes = yes
		patron_has_tribunal = yes
	}
}

# Ardor #

patron_has_ardor = {
	custom_description = {
		text = insufficient_ardor
		value = $ARDOR$
		var:ardor_display >= $ARDOR$
	}
}

has_any_patron_saint = {
	OR = {
		has_trait = p_vl_rilms
		has_trait = p_vl_aralor
		has_trait = p_vl_felms
		has_trait = p_vl_llothis
		has_trait = p_vl_meris
		has_trait = p_vl_olms
		has_trait = p_vl_seryn
		has_trait = p_vl_veloth
		has_trait = p_vl_vorys
	}
}
