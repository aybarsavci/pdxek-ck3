ek_can_convert_county_to_culture = {
	culture_is_alive = yes 
	OR = {
		this = $RULER_CULTURE$
		has_same_culture_heritage = $RULER_CULTURE$
		cultural_acceptance = { target = $RULER_CULTURE$ value > $RULER_CULTURE$.ek_culture_conversion_acceptance_threshold } 
		AND = {
			$RULER_CULTURE$ = { has_cultural_parameter = can_promote_cyrodiilic_subjects_cultures_regardless_of_acceptance }
			has_cultural_parameter = can_remove_cyrodiilic_subject_with_conditions
		}
	}
}

ek_can_convert_county_to_any_culture = {
	custom_tooltip = {
		text = ek_cant_convert_county_to_any_culture
		OR = {
			ek_ruler_culture_is_alive = yes
			ek_any_valid_native_culture_is_alive = yes
			ek_any_valid_nomadic_culture_is_alive = yes
			ek_any_valid_cyrodiilic_subject_culture_is_alive = yes
		}
	}
}

ek_ruler_culture_is_alive = {
	scope:councillor_liege.culture = { 
		culture_is_alive = yes 
		NOT = { this = scope:county.culture }
	}
}

ek_any_valid_native_culture_is_alive = {
	scope:county = { # Native cultures
		any_in_list = {
			variable = native_culture_list
			NOT = { this = scope:county.culture }
			ek_can_convert_county_to_culture = { RULER_CULTURE = scope:councillor_liege.culture }
		}
	}
}

ek_any_valid_nomadic_culture_is_alive = {
	any_culture_global = { # Nomadic cultures
		has_innovation = innovation_native_nomadic 
		NOT = { this = scope:county.culture }
		ek_can_convert_county_to_culture = { RULER_CULTURE = scope:councillor_liege.culture }
	}
}

ek_any_valid_cyrodiilic_subject_culture_is_alive = {
	any_culture_global = { # Imperial Scion cultures
		has_cultural_parameter = can_remove_cyrodiilic_subject_with_conditions
		NOT = { this = scope:county.culture }
		ek_can_convert_county_to_culture = { RULER_CULTURE = scope:councillor_liege.culture }
	}
}