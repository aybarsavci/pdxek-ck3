### EK NOTE: Removed references to vanilla religions

BaronyTownType = {
	type = landed_title

	text = {
		trigger = {
			title_province = {
				county = {
					development_level > medium_development_level
				}
			}
		}
		localization_key = barony_town_type_city
	}

	text = {
		trigger = {
			title_province = {
				fort_level > 0
			}
		}
		localization_key = barony_town_type_castle_town
	}

	text = {
		trigger = {
			title_province = {
				county = {
					development_level <= medium_development_level
					development_level >= bad_development_level
				}
			}
		}
		localization_key = barony_town_type_town
	}

	text = {
		trigger = {
			title_province = {
				county = {
					development_level < bad_development_level
				}
			}
		}
		localization_key = barony_town_type_village
	}
}

### EK EDIT: Grand Temples are tied to your main pantheon
GetFaithGrandTemple = { # Get name of Grand Temple in religion
	type = character

	text = {
		trigger = { faith = { has_doctrine_parameter = faith_uses_grand_cathedral } }
		localization_key = building_type_grand_cathedral_01
	}

	text = {
		trigger = { faith = { has_doctrine_parameter = faith_uses_daedric_shrine } }
		localization_key = building_type_daedric_shrine_01
	}
	text = {
		trigger = { faith = { has_doctrine_parameter = faith_uses_great_wyrd_tree } }
		localization_key = building_type_great_wyrd_tree_01
	}
	text = {
		trigger = { faith = { has_doctrine_parameter = faith_uses_dragon_temple } }
		localization_key = building_type_dragon_temple_01
	}
	text = {
		trigger = { faith = { has_doctrine_parameter = faith_uses_holy_site_other_grand_temple } }
		localization_key = building_type_holy_site_other_grand_temple_01
	}
}

GetFaithTemple = { # Get name of regular temple in religion
	type = province

	#text = {
	#	trigger = { faith.religion = religion:christianity_religion }
	#	localization_key = building_temple_church
	#}

	#text = {
	#	trigger = { faith.religion = religion:islam_religion }
	#	localization_key = building_temple_mosque
	#}

	text = {
		trigger = { always = yes }
		localization_key = building_temple_temple
	}
}

# To be used in a province scope
# Notice it uses a random valid for some variety
GetGuildType = {
	type = province
	
	random_valid = yes

	text = { # Plain guild
		trigger = {
			has_building = guild_halls_01
		}
		localization_key = building_guild_halls
	}
	
	text = { # Carver's guild
		trigger = {
			has_building = guild_halls_02
		}
		localization_key = building_carvers_guild
	}
	
	text = { # Carpenter's guild
		trigger = {
			has_building = guild_halls_03
		}
		localization_key = building_carpenters_guild
	}
	
	text = { # Hunter's guild
		trigger = {
			has_building = guild_halls_04
		}
		localization_key = building_hunters_guild
	}
	
	text = { # Mason's guild
		trigger = {
			has_building = guild_halls_05
		}
		localization_key = building_masons_guild
	}
	
	text = { # Tailor's guild
		trigger = {
			has_building = guild_halls_06
		}
		localization_key = building_tailors_guild
	}
	
	text = { # Glassworker's guild
		trigger = {
			has_building = guild_halls_07
		}
		localization_key = building_glassworkers_guild
	}
	
	text = { # Artisan's guild
		trigger = {
			has_building = guild_halls_08
		}
		localization_key = building_artisans_guild
	}
	
	text = { # Fallback fishmongers
		trigger = {
			OR = {
				is_coastal = yes
				is_riverside_province = yes
			}
		}
		localization_key = building_fishmonger_guild
	}
	
	text = { # Fallback not-really-guilds / smiths
		trigger = {
			always = yes
		}
		localization_key = building_fallback_guild
	}
}

# Get name of a special building in a province
# To be used in a province scope
GetSpecialBuildingNameFromProvince = { 
	type = province

	# EK TODO add every ek special building here. existence is pain

	### MISC

	text = { # Greenhouse
		trigger = {
			has_special_building = yes
			has_building = special_greenhouse_01
		}
		localization_key = building_special_greenhouse_01
	}

}


GetLocationFaithTemple = { # Get name of regular temple in religion
	type = province

	#text = {
	#	trigger = { faith.religion = religion:christianity_religion }
	#	localization_key = building_temple_church
	#}

	#text = {
	#	trigger = { faith.religion = religion:islam_religion }
	#	localization_key = building_temple_mosque
	#}

	text = {
		trigger = { always = yes }
		localization_key = building_temple_temple
	}
}
