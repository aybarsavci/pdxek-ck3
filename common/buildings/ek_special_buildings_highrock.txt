##################
# High Rock Special Buildings
##################
# City of Orsinium
# Cath Bedraud 
# Berthulic's Hold - TBA
# Crypt of Hearts
# Grayhome Citadel
##################

##########
# City of Orsinium
##########
city_of_orsinium_01 = { # Used by non-Orcs for a prestige boost
	construction_time = very_slow_construction_time

	type_icon = "aljaferia.dds"
	
	can_construct_potential = {
		barony = title:b_old_orsinium
	}
	
	is_enabled = {
		custom_tooltip = {
			text = ruined_orsinium_trigger_desc
			NOT = { scope:holder.culture = { has_cultural_pillar = heritage_orcish } }
		}	
	}
	
	cost_gold = 1500

	character_modifier = {
		army_maintenance_mult = -0.05 # 'Stealing' the resources from the ruins
		monthly_prestige = 0.5
	}
	
	province_modifier = {
		build_speed = -0.1 # 'Stealing' the resources from the ruins
	}
	
	ai_value = {
		base = 100
	}
	
	next_building = city_of_orsinium_02
	
	type = special

	flag = travel_point_of_interest_wonder
}
city_of_orsinium_02 = { # Just reclaimed by the Orcs, work has begun
	construction_time = very_slow_construction_time

	type_icon = "icon_structure_aurelian_walls.dds"
	
	can_construct_potential = {
		barony = title:b_old_orsinium
	}
	
	
	is_enabled = {
		custom_tooltip = {
			text = rebuild_orsinium_trigger_desc
			scope:holder.culture = { has_cultural_parameter = can_found_orsinium }
		}	
	}
	
	cost_gold = 1500

	character_modifier = {
		monthly_prestige = 0.1
		same_culture_opinion = 2
	}
	
	max_garrison = good_building_max_garrison_tier_1
	province_modifier = {
		defender_holding_advantage = normal_building_advantage_tier_1
		fort_level = good_building_fort_level_tier_1
	}
	county_modifier = {
		development_growth = 0.1
	}
	
	ai_value = {
		base = 100
	}
	
	next_building = city_of_orsinium_03
	
	type = special

	flag = travel_point_of_interest_wonder
}
city_of_orsinium_03 = { # Orcs have reclaimed it and rebuild it
	construction_time = very_slow_construction_time

	type_icon = "icon_structure_aurelian_walls.dds"
	
	can_construct_potential = {
		barony = title:b_old_orsinium
	}
	
	is_enabled = {
		custom_tooltip = {
			text = rebuild_orsinium_trigger_desc
			scope:holder.culture = { has_cultural_parameter = can_found_orsinium }
		}	
	}
	
	
	cost_gold = 3000

	character_modifier = {
		monthly_prestige = 0.3
		same_culture_opinion = 5
	}
	max_garrison = good_building_max_garrison_tier_3
	province_modifier = {
		defender_holding_advantage = normal_building_advantage_tier_3
		fort_level = good_building_fort_level_tier_3
	}
	county_modifier = {
		development_growth = 0.2
		development_growth_factor = 0.15
	}
	
	ai_value = {
		base = 100
	}
	
	type = special

	flag = travel_point_of_interest_wonder
}

##########
# Crypt of Hearts - brought to you by Dutheil, the Mad Architect
##########
crypt_of_hearts_01 = {
	construction_time = very_slow_construction_time

	type_icon = "toledo.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	
	can_construct = {
		custom_tooltip = {
			text = holy_site_or_mephala
			OR = {
				barony = {
					is_holy_site_of = scope:holder.faith
				}
				scope:holder = { faith = { has_doctrine = doctrine_mephala_pantheon } }
			}	
		}
	}
	
	is_enabled = { # connected to Mephala, only Mephala faiths have it as holy site anyway
	custom_tooltip = {
			text = holy_site_or_mephala
			OR = {
				barony = {
					is_holy_site_of = scope:holder.faith
				}
				scope:holder = { faith = { has_doctrine = doctrine_mephala_pantheon } }
			}	
		}
	}
	
	show_disabled = yes
	
	cost_gold = 1000

	character_modifier = {
		dread_gain_mult = 0.2
		monthly_prestige_gain_per_dread_add = 0.05
		controlled_province_advantage = 10
	}
	county_modifier = {
		monthly_county_control_growth_add = 0.1
		defender_holding_advantage = 5
	}
	
	ai_value = {
		base = 100
	}
	
	type = special

	flag = travel_point_of_interest_learning
}

##########
# Grayhome Citadel. Built by Rada al Saran
##########

grayhome_citadel_01 = {

	construction_time = very_slow_construction_time

	type_icon = "icon_structure_aurelian_walls.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}

	can_construct = {
		scope:holder = { is_vampire = yes } 
	}
	
	is_enabled = {
		scope:holder = { is_vampire = yes } 
	}
	
	cost_gold = 1000

	max_garrison = good_building_max_garrison_tier_1
	levy = good_building_levy_tier_1
	
	county_modifier = {
		levy_reinforcement_rate = 0.1
	}
	province_modifier = {
		fort_level = 3
		defender_holding_advantage = normal_building_advantage_tier_1
		stationed_maa_damage_mult = high_maa_damage_tier_1
		stationed_maa_toughness_mult = high_maa_toughness_tier_1
		travel_danger = 10
	}
	character_modifier = {
		dread_gain_mult = 0.1
		monthly_prestige_gain_per_dread_add = 0.05
	}
	
	ai_value = {
		base = 100
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_martial
}

#########
# Fang Lair (Arkngthamz-Phng) - Is infested by undead. A necromancer can take control over it.
#########
fang_lair_01 = { # Ruined state

	construction_time = very_slow_construction_time

	type_icon = "gibraltar.dds" 
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	
	cost_gold = 1000
	
	county_modifier = {
		development_growth_factor = -0.1
		county_opinion_add = -10
	}

	province_modifier = {
		monthly_income = copper_mine_building_tax_tier_1
	}

	province_modifier = {
		travel_danger = 10
	}

	next_building = fang_lair_02
	
	ai_value = {
		base = 100
	}
	
	type = special

	flag = travel_point_of_interest_economic
}

fang_lair_02 = {
	effect_desc = fang_lair_effect_desc

	construction_time = slow_construction_time

	
	cost_gold = 500

	max_garrison = 300

	county_modifier = {
		county_opinion_add = -10
	}
	
	province_modifier = {
		monthly_income = copper_mine_building_tax_tier_2
		stationed_mages_damage_mult = normal_maa_damage_tier_1
		stationed_mages_toughness_mult = normal_maa_damage_tier_1
		stationed_spellblades_damage_mult = normal_maa_toughness_tier_1
		stationed_spellblades_toughness_mult = normal_maa_toughness_tier_1
		fort_level = 1
		defender_holding_advantage = normal_building_advantage_tier_1
	}

	character_modifier = {
		monthly_dark_arts_lifestyle_xp_gain_mult = 0.1
	}
	
	ai_value = {
		base = 100
	}
	
	type = special

	flag = travel_point_of_interest_dark_arts
}

##########
# Cath Bedraud: Ancient cemetary, holding most of High Rock's former royalty and great heroes
##########
cath_bedraud_01 = {
	effect_desc = {
		triggered_desc = {
			trigger = { has_dlc_feature = legends_of_the_dead }
			desc = ek_funeral_cost_discount_max_desc
		}
		triggered_desc = {
			trigger = { has_dlc_feature = legends_of_the_dead }
			desc = ek_funeral_renown_outcome_effect_desc
		}
	}

	construction_time = very_slow_construction_time

	type_icon = "icon_structure_crypt.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	
	can_construct = {
		custom_description = {
			text = holy_site_building_trigger
			barony = {
				is_holy_site_of = scope:holder.faith
			}
		}
	}
	
	is_enabled = {
		custom_description = {
			text = holy_site_building_trigger
			barony = {
				is_holy_site_of = scope:holder.faith
			}
		}
	}
	
	show_disabled = yes
	
	cost_gold = 1000

	character_modifier = {
		monthly_piety = 0.25
		monthly_dynasty_prestige_mult = 0.1
		dynasty_opinion = 5
		same_faith_opinion = 5
	}
	county_modifier = {
		tax_mult = 0.2
		development_growth_factor = 0.2
		development_growth = 0.1
	}
	province_modifier = {
		monthly_income = 2
	}
	
	ai_value = {
		base = 100
	}
	
	type = special

	flag = travel_point_of_interest_religious
}

#########
# Castle Daggerfall
#########
castle_daggerfall_01 = {
	effect_desc = feast_cost_discount_max_desc

	construction_time = very_slow_construction_time

	type_icon = "icon_structure_hotin_fortress.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	cost_gold = 2000

	character_modifier = {
		monthly_prestige_gain_per_knight_add = 0.1
		knight_limit = 1
		knight_effectiveness_mult = 0.1
	}
	
	max_garrison = good_building_max_garrison_tier_1

	province_modifier = {
		defender_holding_advantage = normal_building_advantage_tier_1
		fort_level = good_building_fort_level_tier_1
		stationed_maa_damage_mult = normal_maa_damage_tier_1
		stationed_maa_toughness_mult = normal_maa_toughness_tier_1
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_1
		travel_danger = -10
	}
	
	ai_value = {
		base = 100
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_diplomacy
}

#########
# Castle Wayrest
#########
castle_wayrest_01 = {
	effect_desc = {
		triggered_desc = {
			trigger = { has_dlc_feature = tours_and_tournaments }
			desc = tournament_civil_cost_low_discount_effect_toto_desc
		}
		desc = feast_cost_discount_max_desc
	}

	construction_time = very_slow_construction_time

	type_icon = "icon_structure_hotin_fortress.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	cost_gold = 2000

	county_modifier = {
		tax_mult = 0.2
		development_growth_factor = 0.2
		development_growth = 0.1
	}
	
	max_garrison = good_building_max_garrison_tier_1

	province_modifier = {
		defender_holding_advantage = normal_building_advantage_tier_1
		fort_level = good_building_fort_level_tier_1
		stationed_maa_damage_mult = normal_maa_damage_tier_1
		stationed_maa_toughness_mult = normal_maa_toughness_tier_1
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_1
		travel_danger = -10
	}
	
	ai_value = {
		base = 100
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_economic
}

#########
# Beldama Wyrd Tree
#########
beldama_wyrd_tree_01 = {
	construction_time = very_slow_construction_time

	type_icon = "icon_structure_beldama_wyrd_tree.dds"
	asset = {
		type = pdxmesh
		name = "tree_graht_01_c_mesh"
	}
	
	can_construct_potential = {
		building_requirement_tribal = no
	}

	can_construct = {
		scope:holder = { faith = { has_doctrine_parameter = faith_uses_great_wyrd_tree } }
		custom_description = {
			text = holy_site_building_trigger
			barony = {
				is_holy_site_of = scope:holder.faith
			}
		}
		scope:holder = {
			culture = {
				has_innovation = innovation_crop_rotation
			}
		}
	}
	
	is_enabled = {
		custom_description = {
			text = holy_site_building_trigger
			barony = {
				is_holy_site_of = scope:holder.faith
			}
		}
		scope:holder = { faith = { has_doctrine_parameter = faith_uses_great_wyrd_tree } }
	}

	cost_gold = 2000

	character_modifier = {
		learning_per_piety_level = 1
		negate_health_penalty_add = 0.25
	}
	
	county_modifier = {
		build_speed = 0.2
		build_gold_cost = 0.2
		county_opinion_add = 10
	}

	province_modifier = {
		stationed_mages_damage_mult = normal_maa_damage_tier_1
		stationed_mages_toughness_mult = normal_maa_toughness_tier_1
		stationed_mages_screen_mult = normal_maa_screen_tier_1
	}
	
	ai_value = {
		base = 100
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
		
	type = special

	flag = travel_point_of_interest_wonder
}

#########
# Northpoint Lighthouse
#########
northpoint_lighthouse_01 = {
	asset = {
		type = pdxmesh
		name = "fp2_building_special_tower_of_hercules_mesh"
	}

	construction_time = very_slow_construction_time
	
	type_icon = "hercules.dds" 
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	cost_gold = 1000

	character_modifier = {
		naval_movement_speed_mult = 0.1
	}

	county_modifier = {		
		tax_mult = 0.1
		development_growth_factor = 0.1
	}
	
	province_modifier = {
		monthly_income = 1
		travel_danger = -10
	}
	
	ai_value = {
		base = 100
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_economic
}

#########
# Torugs Tomb
#########
torugs_tomb_01 = {
	effect_desc = {
		triggered_desc = {
			trigger = { has_dlc_feature = legends_of_the_dead }
			desc = ek_funeral_cost_discount_max_desc
		}
		triggered_desc = {
			trigger = { has_dlc_feature = legends_of_the_dead }
			desc = ek_funeral_renown_outcome_effect_desc
		}
	}
	construction_time = very_slow_construction_time
	
	type_icon = "icon_structure_petra.dds"

	can_construct = {
		custom_tooltip = {
			text = orsimer_or_reachmen
			OR = {
				scope:holder.culture = { has_cultural_pillar = heritage_orcish }
				scope:holder.culture = {
					OR = {
						this = culture:reachfolk
						any_parent_culture_or_above = {
							this = culture:reachfolk
						}
					}
				}		
			}
		}	
	}
	
	is_enabled = {
		custom_tooltip = {
			text = orsimer_or_reachmen
			OR = {
				scope:holder.culture = { has_cultural_pillar = heritage_orcish }
				scope:holder.culture = {
					OR = {
						this = culture:reachfolk
						any_parent_culture_or_above = {
							this = culture:reachfolk
						}
					}
				}		
			}
		}	
	}

	cost_gold = 1000

	character_modifier = {
		prowess_per_piety_level = 1
		knight_limit = 1
		knight_effectiveness_mult = 0.1
	}

	county_modifier = {
		levy_size = 0.15
		hostile_raid_time = 0.25
	}
	
	province_modifier = {
		defender_holding_advantage = normal_building_advantage_tier_1
	}
	
	ai_value = {
		base = 100
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_martial
}

#########
# Bangkorai Garrison
#########
bangkorai_garrison_01 = {
	construction_time = very_slow_construction_time

	asset = {
		type = pdxmesh
		name = "fp2_building_special_aljaferia_mesh"
	}

	type_icon = "aljaferia.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	
	cost_gold = 3000
	
	character_modifier = {
		monthly_prestige = 0.1
	}

	county_modifier = {
		levy_size = 0.1
	}
	
	max_garrison = good_building_max_garrison_tier_1
	province_modifier = {
		defender_holding_advantage = good_building_advantage_tier_1
		fort_level = good_building_fort_level_tier_1
		stationed_maa_damage_mult = normal_maa_damage_tier_1
		stationed_maa_toughness_mult = normal_maa_toughness_tier_1
		travel_danger = -15
		monthly_income = normal_building_tax_tier_1
	}
	
	ai_value = {
		base = 100
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_martial
}

#########
# Burg Tusktrutz
#########
burg_tusktrutz_01 = {
	construction_time = very_slow_construction_time

	type_icon = "icon_structure_the_citadel_of_aleppo.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	
	cost_gold = 3000
	
	character_modifier = {
		monthly_prestige = 0.1
	}

	county_modifier = {
		hostile_raid_time = 0.5
	}
	
	max_garrison = good_building_max_garrison_tier_1
	province_modifier = {
		defender_holding_advantage = good_building_advantage_tier_1
		fort_level = good_building_fort_level_tier_1
		stationed_maa_damage_mult = normal_maa_damage_tier_1
		stationed_maa_toughness_mult = normal_maa_toughness_tier_1
		travel_danger = -15
	}
	
	ai_value = {
		base = 100
		culture_likely_to_fortify_modifier = yes
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_martial
}

##########
# Ire Sanctum
##########

ire_sanctum_01 = { # Ruined version

	asset = {
		type = pdxmesh
		name = "building_special_cathedral_pagan_mesh"
	}

	construction_time = very_slow_construction_time

	type_icon = "icon_structure_cathedral_pagan.dds"
	
	can_construct_potential = {
	}
	
	can_construct = {
		custom_description = {
			text = holy_site_building_trigger
			barony = {
				is_holy_site_of = scope:holder.faith
			}
		}
	}
	
	is_enabled = {
		custom_description = {
			text = holy_site_building_trigger
			barony = {
				is_holy_site_of = scope:holder.faith
			}
		}		
	}
	
	cost_gold = 1000

	character_modifier = {
		monthly_piety_gain_mult = -0.1
		knight_effectiveness_mult = 0.05
		levy_reinforcement_rate = 0.1
	}
	
	county_modifier = {
		levy_size = 0.1
		development_growth_factor = 0.1
		development_growth = 0.05
	}
	
	province_modifier = {
		monthly_income = 0.5
	}

	next_building = ire_sanctum_02
	
	ai_value = {
		base = 100
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_religious
}

ire_sanctum_02 = { # Rebuilt version - fortified to prevent another destruction

	asset = {
		type = pdxmesh
		name = "building_special_cathedral_pagan_mesh"
	}

	construction_time = very_slow_construction_time

	type_icon = "icon_structure_cathedral_pagan.dds"
	
	can_construct_potential = {
	}
	
	can_construct = {
		custom_description = {
			text = holy_site_building_trigger
			barony = {
				is_holy_site_of = scope:holder.faith
			}
		}
	}
	
	is_enabled = {
		custom_description = {
			text = holy_site_building_trigger
			barony = {
				is_holy_site_of = scope:holder.faith
			}
		}		
	}
	
	cost_gold = 1000

	character_modifier = {
		monthly_piety = 0.25
		monthly_piety_gain_per_knight_add = 0.1
		knight_effectiveness_mult = 0.1
		levy_reinforcement_rate = 0.2
	}
	
	county_modifier = {
		levy_size = 0.2
		development_growth_factor = 0.2
		development_growth = 0.1
	}
	
	levy = 500
	max_garrison = 250

	province_modifier = {
		monthly_income = 1
		defender_holding_advantage = normal_building_advantage_tier_1
		fort_level = normal_building_fort_level_tier_1
	}
	
	ai_value = {
		base = 100
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_religious
}

##########
# Ire Sanctum - shrine of the wind, so it gives a bit of travel speed
##########

ilni_shrine_01 = {
	construction_time = very_slow_construction_time

	type_icon = "icon_structure_shwedagon_pagoda.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	
	can_construct = {
		custom_tooltip = {
			text = holy_site_or_tsaesci
			OR = {
				scope:holder.culture = { has_cultural_pillar = heritage_tsaesci }
				scope:holder = { faith = { has_doctrine = doctrine_pantheon_elemental } }
			}
		}	
	}
	
	is_enabled = {
		custom_tooltip = {
			text = holy_site_or_tsaesci
			OR = {
				scope:holder.culture = { has_cultural_pillar = heritage_tsaesci }
				scope:holder = { faith = { has_doctrine = doctrine_pantheon_elemental } }
			}
		}	
	}
	
	show_disabled = yes
	
	cost_gold = 1000

	character_modifier = {
		monthly_piety = 0.5
		clergy_opinion = 5
		character_travel_speed_mult = 0.1
	}
	province_modifier = {
		monthly_income = 2
	}
	county_modifier = {
		tax_mult = 0.2
		development_growth_factor = 0.2
		development_growth = 0.3
	}
	
	ai_value = {
		base = 100
		modifier = { # Fill all building slots before going for special buildings
			factor = 0
			free_building_slots > 0
		}
	}
	
	type = special

	flag = travel_point_of_interest_religious
}


#########
# Doomcrag - Very evil place, alot of negative modifiers but can be restored to a degree
#########
doomcrag_tower_01 = { # Tainted version

	construction_time = very_slow_construction_time

	type_icon = "icon_structure_white_gold.dds"
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	
	show_disabled = yes
	
	cost_gold = 1000

	character_modifier = {
		stress_gain_mult = 0.1
		dread_gain_mult = 0.25
	}
	
	county_modifier = {
		county_opinion_add = -10
		monthly_county_control_decline_factor = -0.25
		development_growth_factor = -0.25
	}
	province_modifier = {
		travel_danger = 15
	}
	
	ai_value = {
		base = 100
	}
	
	next_building = doomcrag_tower_02
	
	type = special

	flag = travel_point_of_interest_wonder
}

doomcrag_tower_02 = { # "Purified" version

	construction_time = very_slow_construction_time
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	
	show_disabled = yes
	
	cost_gold = 1000

	character_modifier = {
		dread_gain_mult = 0.3
	}
	county_modifier = {
		tax_mult = 0.2
		development_growth_factor = 0.2
		development_growth = 0.1
	}
	province_modifier = {
		monthly_income = 1
		fort_level = normal_building_fort_level_tier_2
		levy_size = 0.2
		garrison_size = 0.2
	}
	
	ai_value = {
		base = 100
	}
	
	type = special

	flag = travel_point_of_interest_wonder
}