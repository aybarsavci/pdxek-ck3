@holding_illustration_hist = "gfx/interface/illustrations/holding_types/ek_hist_tree.dds"

############
# Hist Trees
############

### Holding Tiers
# Sapling
hist_01 = {
	asset = {
		type = pdxmesh
		name = "argonian_tree_temple_01_mesh"
		illustration = @holding_illustration_hist
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Temples/pagan_temple" soundparameter = { "Tier" = 0 } }
	}

	cost_piety = 1000

	construction_time = very_slow_construction_time

	ai_value = {
		base = 500
	}

	can_construct_potential = {
		ek_hist_tree_faith_construct_trigger = yes # Only proper Hist followers can plant new saplings
		ek_hist_tree_terrain_trigger = yes
	}

    can_construct_showing_failures_only = {
        building_requirement_hist_holding_in_county = yes
    }

	is_enabled = {
		ek_hist_tree_faith_trigger = yes # Those who deeply respect the Hist however can still make use of them
	}

	levy = small_building_levy_tier_1
	
	character_modifier = {
		monthly_piety = 0.2
		levy_maintenance = -0.05
		same_faith_opinion = 2
	}

	province_modifier = {
		defender_holding_advantage = 1
	}

	county_modifier = {
		county_opinion_add = 5
		levy_size = 0.05
		levy_reinforcement_rate = 0.1
	}

    next_building = hist_02
}

# Young Hist
hist_02 = {
    asset = {
		type = pdxmesh
		name = "argonian_tree_temple_01_mesh"
		illustration = @holding_illustration_hist
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Temples/pagan_temple" soundparameter = { "Tier" = 0 } }
	}

	ai_value = {
		base = 100
		ai_special_building_modifier = yes
	}

    cost_piety = 1000

	construction_time = very_slow_construction_time

	can_construct_potential = {
        custom_tooltip = {
            text = is_upgraded_over_time
            always = no
        }
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

	levy = small_building_levy_tier_2

	character_modifier = {
		monthly_piety = 0.4
		same_faith_opinion = 4
		levy_maintenance = -0.1
	}
	
	province_modifier = {
		defender_holding_advantage = 2
	}

	county_modifier = {
		county_opinion_add = 10
		levy_size = 0.1
		levy_reinforcement_rate = 0.2
	}

	next_building = hist_03
}

# Mature Hist
hist_03 = {
    asset = {
		type = pdxmesh
		name = "argonian_tree_temple_01_mesh"
		illustration = @holding_illustration_hist
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Temples/pagan_temple" soundparameter = { "Tier" = 0 } }
	}

	ai_value = {
		base = 100
		ai_special_building_modifier = yes
	}

    cost_piety = 1000

	construction_time = very_slow_construction_time

	can_construct_potential = {
        custom_tooltip = {
            text = is_upgraded_over_time
            always = no
        }
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

	levy = small_building_levy_tier_3

	character_modifier = {
		monthly_piety = 0.6
		same_faith_opinion = 6
		levy_maintenance = -0.15
	}
	
	province_modifier = {
		defender_holding_advantage = 3
	}

	county_modifier = {
		county_opinion_add = 15
		levy_size = 0.15
		levy_reinforcement_rate = 0.3
	}

	next_building = hist_04
}

# Old Hist
hist_04 = {
    asset = {
		type = pdxmesh
		name = "argonian_tree_temple_01_mesh"
		illustration = @holding_illustration_hist
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Temples/pagan_temple" soundparameter = { "Tier" = 0 } }
	}

	ai_value = {
		base = 100
		ai_special_building_modifier = yes
	}

    cost_piety = 1000

	construction_time = very_slow_construction_time

	can_construct_potential = {
        custom_tooltip = {
            text = is_upgraded_over_time
            always = no
        }
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

	levy = small_building_levy_tier_4

	character_modifier = {
		monthly_piety = 0.8
		same_faith_opinion = 8
		levy_maintenance = -0.2
	}
	
	province_modifier = {
		defender_holding_advantage = 4
	}

	county_modifier = {
		county_opinion_add = 20
		levy_size = 0.2
		levy_reinforcement_rate = 0.4
	}

    next_building = hist_05
}

# Ancient Hist
hist_05 = {
    asset = {
		type = pdxmesh
		name = "argonian_tree_temple_01_mesh"
		illustration = @holding_illustration_hist
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Temples/pagan_temple" soundparameter = { "Tier" = 0 } }
	}

	ai_value = {
		base = 100
		ai_special_building_modifier = yes
	}

    cost_piety = 1000

	construction_time = very_slow_construction_time

	can_construct_potential = {
        custom_tooltip = {
            text = has_reached_last_stage
            always = no
        }
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

	levy = small_building_levy_tier_5

	character_modifier = {
		monthly_piety = 1
		same_faith_opinion = 10
		levy_maintenance = -0.25
	}
	
	province_modifier = {
		defender_holding_advantage = 5
	}

	county_modifier = {
		county_opinion_add = 25
		levy_size = 0.25
		levy_reinforcement_rate = 0.5
	}
}

#######
# Hist Buildings
#######

# Minding Grove
minding_grove_01 = {
    type_icon = "icon_building_minding_grove.dds"

	can_construct_potential = {
		has_building_or_higher = hist_01
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
		ai_tier_1_building_modifier = yes
	}
	
	cost_piety = expensive_building_tier_1_cost
	cost_gold = tribal_building_tier_1_cost

	construction_time = slow_construction_time

    effect_desc = minding_grove_effect_desc
	
    max_garrison = normal_building_max_garrison_tier_1

	province_modifier = {
		travel_danger = -5
	}
	
	character_modifier = {
		health = 0.05
	}

    next_building = minding_grove_02
}

minding_grove_02 = {

	can_construct_potential = {
		has_building_or_higher = hist_02
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}
	
	cost_piety = expensive_building_tier_2_cost
	cost_gold = tribal_building_tier_2_cost

	construction_time = slow_construction_time

    effect_desc = minding_grove_effect_desc
	
    max_garrison = normal_building_max_garrison_tier_2

	province_modifier = {
		travel_danger = -10
	}
	
	character_modifier = {
		health = 0.1
	}

    next_building = minding_grove_03
}

minding_grove_03 = {

	can_construct_potential = {
		has_building_or_higher = hist_03
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}
	
	cost_piety = expensive_building_tier_3_cost
	cost_gold = tribal_building_tier_3_cost

	construction_time = slow_construction_time

    effect_desc = minding_grove_effect_desc
	
    max_garrison = normal_building_max_garrison_tier_3

	province_modifier = {
		travel_danger = -15
	}
	
	character_modifier = {
		health = 0.15
	}

    next_building = minding_grove_04
}

minding_grove_04 = {

	can_construct_potential = {
		has_building_or_higher = hist_04
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}
	
	cost_piety = expensive_building_tier_4_cost
	cost_gold = tribal_building_tier_4_cost

	construction_time = slow_construction_time

    effect_desc = minding_grove_effect_desc
	
    max_garrison = normal_building_max_garrison_tier_4

	province_modifier = {
		travel_danger = -20
	}
	
	character_modifier = {
		health = 0.2
	}

    next_building = minding_grove_05
}

minding_grove_05 = {

	can_construct_potential = {
		has_building_or_higher = hist_05
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}
	
	cost_piety = expensive_building_tier_5_cost
	cost_gold = tribal_building_tier_5_cost

	construction_time = slow_construction_time

    effect_desc = minding_grove_effect_desc
	
    max_garrison = normal_building_max_garrison_tier_5

	province_modifier = {
		travel_danger = -25
	}
	
	character_modifier = {
		health = 0.25
	}
}

# Hatching Pools
hatching_pools_01 = {
    type_icon = "icon_building_hatching_pools.dds"

    can_construct_potential = {
		has_building_or_higher = hist_01
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
		ai_tier_1_building_modifier = yes
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_1_cost
	cost_gold = tribal_building_tier_1_cost
		
	character_modifier = {
		fertility = 0.1
	}

	county_modifier = {
		development_growth = 0.1
		development_growth_factor = 0.05
	}	

    next_building = hatching_pools_02
}

hatching_pools_02 = {
    can_construct_potential = {
		has_building_or_higher = hist_02
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_2_cost
	cost_gold = tribal_building_tier_2_cost
		
	character_modifier = {
		fertility = 0.2
	}

	county_modifier = {
		development_growth = 0.2
        development_growth_factor = 0.1
	}	

    next_building = hatching_pools_03
}

hatching_pools_03 = {
    can_construct_potential = {
		has_building_or_higher = hist_03
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_3_cost
	cost_gold = tribal_building_tier_3_cost
		
	character_modifier = {
		fertility = 0.3
	}

	county_modifier = {
		development_growth = 0.3
        development_growth_factor = 0.15
	}	

    next_building = hatching_pools_04
}

hatching_pools_04 = {
    can_construct_potential = {
		has_building_or_higher = hist_04
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_4_cost
	cost_gold = tribal_building_tier_4_cost
		
	character_modifier = {
		fertility = 0.4
	}

	county_modifier = {
		development_growth = 0.4
        development_growth_factor = 0.2
	}	

    next_building = hatching_pools_05
}

hatching_pools_05 = {
    can_construct_potential = {
		has_building_or_higher = hist_04
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_5_cost
	cost_gold = tribal_building_tier_5_cost
		
	character_modifier = {
		fertility = 0.5
	}

	county_modifier = {
		development_growth = 0.5
        development_growth_factor = 0.25
	}
}

### Speaker Hut
speaker_hut_01 = {
    type_icon = "icon_building_speaker_hut.dds"

    can_construct_potential = {
		has_building_or_higher = hist_01
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
		ai_tier_1_building_modifier = yes
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_1_cost
	cost_gold = tribal_building_tier_1_cost
		
	character_modifier = {
		monthly_lifestyle_xp_gain_mult = 0.05
	}

	county_modifier = {
		monthly_county_control_growth_add = 0.1
		monthly_county_control_growth_factor = 0.05
	}
	
    next_building = speaker_hut_02
}

speaker_hut_02 = {
    can_construct_potential = {
		has_building_or_higher = hist_02
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_2_cost
	cost_gold = tribal_building_tier_2_cost
		
	character_modifier = {
		monthly_lifestyle_xp_gain_mult = 0.1
	}

	county_modifier = {
		monthly_county_control_growth_add = 0.2
		monthly_county_control_growth_factor = 0.1
	}
	
    next_building = speaker_hut_03
}

speaker_hut_03 = {
    can_construct_potential = {
		has_building_or_higher = hist_03
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_3_cost
	cost_gold = tribal_building_tier_3_cost
		
	character_modifier = {
		monthly_lifestyle_xp_gain_mult = 0.15
	}

	county_modifier = {
		monthly_county_control_growth_add = 0.3
		monthly_county_control_growth_factor = 0.15
	}
	
    next_building = speaker_hut_04
}

speaker_hut_04 = {
    can_construct_potential = {
		has_building_or_higher = hist_04
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_4_cost
	cost_gold = tribal_building_tier_4_cost
		
	character_modifier = {
		monthly_lifestyle_xp_gain_mult = 0.2
	}

	county_modifier = {
		monthly_county_control_growth_add = 0.4
		monthly_county_control_growth_factor = 0.2
	}
	
    next_building = speaker_hut_05
}

speaker_hut_05 = {
    can_construct_potential = {
		has_building_or_higher = hist_05
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_5_cost
	cost_gold = tribal_building_tier_5_cost
		
	character_modifier = {
		monthly_lifestyle_xp_gain_mult = 0.25
	}

	county_modifier = {
		monthly_county_control_growth_add = 0.5
		monthly_county_control_growth_factor = 0.25
	}
}

### Invocation School
invocation_school_01 = {
    type_icon = "icon_building_invocation_school.dds"

    can_construct_potential = {
		has_building_or_higher = hist_01
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 1
		ai_tier_1_building_modifier = yes
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_1_cost
	cost_gold = tribal_building_tier_1_cost
		
	character_modifier = {
		stress_loss_mult = 0.05
	}

	province_modifier = {
		stationed_mages_damage_mult = normal_maa_damage_tier_1
		stationed_mages_toughness_mult = normal_maa_toughness_tier_1
		stationed_mages_screen_mult = normal_maa_screen_tier_1
	}
	
    next_building = invocation_school_02
}

invocation_school_02 = {
    can_construct_potential = {
		has_building_or_higher = hist_02
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_2_cost
	cost_gold = tribal_building_tier_2_cost
		
	character_modifier = {
		stress_loss_mult = 0.1
	}

	province_modifier = {
		stationed_mages_damage_mult = normal_maa_damage_tier_2
		stationed_mages_toughness_mult = normal_maa_toughness_tier_2
		stationed_mages_screen_mult = normal_maa_screen_tier_2
	}
	
    next_building = invocation_school_03
}

invocation_school_03 = {
    can_construct_potential = {
		has_building_or_higher = hist_03
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_3_cost
	cost_gold = tribal_building_tier_3_cost
		
	character_modifier = {
		stress_loss_mult = 0.15
	}

	province_modifier = {
		stationed_mages_damage_mult = normal_maa_damage_tier_3
		stationed_mages_toughness_mult = normal_maa_toughness_tier_3
		stationed_mages_screen_mult = normal_maa_screen_tier_3
	}
	
    next_building = invocation_school_04
}

invocation_school_04 = {
    can_construct_potential = {
		has_building_or_higher = hist_04
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_4_cost
	cost_gold = tribal_building_tier_4_cost
		
	character_modifier = {
		stress_loss_mult = 0.2
	}

	province_modifier = {
		stationed_mages_damage_mult = normal_maa_damage_tier_4
		stationed_mages_toughness_mult = normal_maa_toughness_tier_4
		stationed_mages_screen_mult = normal_maa_screen_tier_4
	}
	
    next_building = invocation_school_05
}

invocation_school_05 = {
    can_construct_potential = {
		has_building_or_higher = hist_05
	}

	is_enabled = {
		ek_hist_tree_faith_trigger = yes
	}

    ai_value = {
		base = 5
	}

    construction_time = slow_construction_time
	
	cost_piety = expensive_building_tier_5_cost
	cost_gold = tribal_building_tier_5_cost
		
	character_modifier = {
		stress_loss_mult = 0.25
	}

	province_modifier = {
		stationed_mages_damage_mult = normal_maa_damage_tier_5
		stationed_mages_toughness_mult = normal_maa_toughness_tier_5
		stationed_mages_screen_mult = normal_maa_screen_tier_5
	}
}