# Elder Kings events for having Elder Kings secrets

namespace = ek_secrets

#0001-0499: Secret Exposed (sent from secrets on_exposure)
#0500-0999: Secret Discovered (sent from secrets on_discover)
#1000-1999: Secret being discovered
#2000-2999: Reactions to secrets
#3000-3999: Other characters interacting with Secrets

#######################
# Secret Exposed Events
# 0001-0499
#######################

### Secret: Necromancer
### Secret: Daedric Worshipper
## Azura
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0102 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = azura_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0102.negative.desc
			}
			desc = ek_secrets.0102.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_azura }}
				desc = ek_secrets.0102.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = azura_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0102.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = azura_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = azura_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = azura_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = azura_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = azura_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = azura_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0102.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = azura_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0102.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = azura_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Boethiah
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0103 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = boethiah_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0103.negative.desc
			}
			desc = ek_secrets.0103.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_boethiah }}
				desc = ek_secrets.0103.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = boethiah_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0103.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = boethiah_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = boethiah_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = boethiah_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = boethiah_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = boethiah_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = boethiah_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0103.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = boethiah_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0103.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = boethiah_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Clavicus
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0104 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = clavicus_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0104.negative.desc
			}
			desc = ek_secrets.0104.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_clavicus}}
				desc = ek_secrets.0104.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = clavicus_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0104.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = clavicus_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = clavicus_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = clavicus_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = clavicus_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = clavicus_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = clavicus_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0104.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = clavicus_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0104.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = clavicus_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Hermaeus
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0105 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = hermaeus_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0105.negative.desc
			}
			desc = ek_secrets.0105.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_hermaeus }}
				desc = ek_secrets.0105.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = hermaeus_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0105.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = hermaeus_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = hermaeus_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = hermaeus_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = hermaeus_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = hermaeus_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = hermaeus_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0105.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = hermaeus_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0105.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = hermaeus_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Hircine
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0106 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = hircine_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0106.negative.desc
			}
			desc = ek_secrets.0106.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_hircine }}
				desc = ek_secrets.0106.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = hircine_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0106.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = hircine_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = hircine_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = hircine_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = hircine_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = hircine_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = hircine_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0106.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = hircine_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0106.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = hircine_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Malacath
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0107 = {
	type = character_event
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = malacath_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0107.negative.desc
			}
			desc = ek_secrets.0107.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_malacath }}
				desc = ek_secrets.0107.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = malacath_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0107.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = malacath_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = malacath_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = malacath_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = malacath_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = malacath_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = malacath_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0107.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = malacath_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0107.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = malacath_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Mehrunes
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0108 = {
	type = character_event
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = mehrunes_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0108.negative.desc
			}
			desc = ek_secrets.0108.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_mehrunes }}
				desc = ek_secrets.0108.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = mehrunes_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0108.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = mehrunes_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = mehrunes_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = mehrunes_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = mehrunes_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = mehrunes_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = mehrunes_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0108.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = mehrunes_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0108.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = mehrunes_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Mephala
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0109 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = mephala_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0109.negative.desc
			}
			desc = ek_secrets.0109.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_mephala}}
				desc = ek_secrets.0109.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = mephala_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0109.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = mephala_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = mephala_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = mephala_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = mephala_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = mephala_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = mephala_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0109.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = mephala_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0109.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = mephala_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Meridia
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0110 = {
	type = character_event
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = meridia_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0110.negative.desc
			}
			desc = ek_secrets.0110.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_meridia }}
				desc = ek_secrets.0110.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = meridia_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0110.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = meridia_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = meridia_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = meridia_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = meridia_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = meridia_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = meridia_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0110.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = meridia_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0110.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = meridia_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Molag Bal
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0111 = {
	type = character_event
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = molag_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0111.negative.desc
			}
			desc = ek_secrets.0111.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_molag }}
				desc = ek_secrets.0111.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = molag_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0111.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = molag_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = molag_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = molag_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = molag_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = molag_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = molag_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0111.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = molag_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0111.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = molag_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Namira
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0112 = {
	type = character_event
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = namira_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0112.negative.desc
			}
			desc = ek_secrets.0112.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_namira }}
				desc = ek_secrets.0112.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = namira_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0112.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = namira_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = namira_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = namira_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = namira_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = namira_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = namira_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0112.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = namira_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0112.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = namira_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Nocturnal
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0113 = {
	type = character_event
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = nocturnal_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0113.negative.desc
			}
			desc = ek_secrets.0113.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_nocturnal }}
				desc = ek_secrets.0113.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = nocturnal_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0113.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = nocturnal_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = nocturnal_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = nocturnal_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = nocturnal_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = nocturnal_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = nocturnal_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0113.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = nocturnal_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0113.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = nocturnal_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Peryite
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0114 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = peryite_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0114.negative.desc
			}
			desc = ek_secrets.0114.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_peryite }}
				desc = ek_secrets.0114.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = peryite_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0114.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = peryite_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = peryite_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = peryite_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = peryite_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = peryite_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = peryite_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0114.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = peryite_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0114.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = peryite_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Sanguine
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0115 = {
	type = character_event
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = sanguine_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0115.negative.desc
			}
			desc = ek_secrets.0115.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_sanguine }}
				desc = ek_secrets.0115.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = sanguine_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0115.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = sanguine_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = sanguine_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = sanguine_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = sanguine_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = sanguine_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = sanguine_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0115.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = sanguine_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0115.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = sanguine_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Sheogorath
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0116 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = sheogorath_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0116.negative.desc
			}
			desc = ek_secrets.0116.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_sheogorath }}
				desc = ek_secrets.0116.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = sheogorath_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0116.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = sheogorath_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = sheogorath_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = sheogorath_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = sheogorath_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = sheogorath_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = sheogorath_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0116.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = sheogorath_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0116.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = sheogorath_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

## Vaermina
# Someone I care about has been exposed as a daedra worshipper
ek_secrets.0117 = {
	type = character_event
	content_source = dlc_ek
	title = secrets.0106.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { has_negative_attitude_towards_trait_trigger = { TRAIT = vaermina_worshipper GENDER_CHARACTER = scope:owner } }
				desc = ek_secrets.0117.negative.desc
			}
			desc = ek_secrets.0117.positive_1.desc
		}
		first_valid = {
			triggered_desc = {
				trigger = { scope:secret = { secret_type = secret_crypto_religionist } secret_faith = { has_doctrine = doctrine_pantheon_vaermina }}
				desc = ek_secrets.0117.worried.desc
			}
			triggered_desc = {
				trigger = { NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = vaermina_worshipper GENDER_CHARACTER = scope:owner } } }
				desc = ek_secrets.0117.positive_2.desc
			}
		}
	}
	theme = secret
	override_background = {
		trigger = { allowed_to_imprison_character_trigger = { CHARACTER = scope:owner } } # Show throne room if you can order imprisonment
		reference = throne_room
	}
	left_portrait = scope:owner
	right_portrait = scope:secret_exposer

	immediate = {
		secret_exposed_notification_effects_effect = { SECRET = scope:secret CHARACTER = scope:owner }

		play_music_cue = "mx_cue_secret"
	}

	option = {
		trigger = {
			NAND = {
				allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
				trait_is_criminal_in_faith_trigger = { TRAIT = vaermina_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
			}
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = vaermina_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_negative
		}
		name = {
			trigger = {
				has_negative_attitude_towards_trait_trigger = { TRAIT = vaermina_worshipper GENDER_CHARACTER = scope:owner }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_negative
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = vaermina_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value >= high_positive_opinion
				}
			}
			text = secrets.0106.likes_positive
		}
		name = {
			trigger = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = vaermina_worshipper GENDER_CHARACTER = scope:owner } }
				opinion = {
					target = scope:owner
					value < high_positive_opinion
				}
			}
			text = secrets.0106.dislikes_positive
		}	
	}


	#For liege: imprison
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = vaermina_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0117.b

		imprison_character_effect = {
			TARGET = scope:owner
			IMPRISONER = root
		}

		ai_chance = {
			base = 100
			ai_value_modifier = {
				ai_zeal = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = zealous
				add = 100
			}
			modifier = {
				opinion = {
					target = scope:owner
					value < 0
				}
				add = 100
			}
			modifier = {
				OR = {
					is_close_family_of = scope:owner
					is_spouse_of = scope:owner
					has_relation_lover = scope:owner
					has_relation_friend = scope:owner
				}
				add = -100
			}
		}
	}

	#For liege: forgive
	option = {
		trigger = {
			allowed_to_imprison_character_trigger = { CHARACTER = scope:owner }
			trait_is_criminal_in_faith_trigger = { TRAIT = vaermina_worshipper FAITH = root.faith GENDER_CHARACTER = scope:owner }
		}
		name = ek_secrets.0117.c

		reverse_add_opinion = {
			target = scope:owner
			modifier = grateful_opinion
			opinion = 20
		}

		add_piety_level = -1

		ai_chance = {
			base = 10
			ai_value_modifier = {
				ai_compassion = low_chance_impact_positive_ai_value
			}
			modifier = {
				has_trait = cynical
				add = 100
			}
			modifier = {
				scope:owner = { is_ai = no }
				add = 50
			}
			modifier = {
				NOT = { has_negative_attitude_towards_trait_trigger = { TRAIT = vaermina_worshipper GENDER_CHARACTER = scope:owner } }
				add = 100
			}
		}
	}
}

