ek_breton_clothes = {

    usage = game
    selection_behavior = weighted_random
    priority = 1

##############################
#							 #	
#			BRETONS		     #
#							 #
##############################

    breton_clothing_lowborn = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
	            template = western_commoner_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }	
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = ek_breton
                }
            }
        }
    }

    breton_clothing_low_nobles = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
				template = western_low_nobility_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }		
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = ek_breton
                }
            }
        }
    }

    breton_clothing_high_nobles = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
				template = western_high_nobility_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }		
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = {
                    CULTURE_INPUT = ek_breton
                }
            }
        }
    }
	
    breton_clothing_royalty = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
				template = western_high_nobility_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }		
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_royalty_trigger = {
                    CULTURE_INPUT = ek_breton
                }
            }
        }
    }

    sp3_breton_clothing_imperial = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
				template = sp3_western_royalty_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }		
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                is_adult = yes
                has_dlc_feature = couture_of_the_capets     
                portrait_imperial_trigger = {
                    CULTURE_INPUT = ek_breton
                }           
            }			
        }
    }		

}

ek_breton_armor = {

    usage = game
    selection_behavior = weighted_random
    priority = 4

	
    ek_breton_war = {
        dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
                template = western_war_nobility_clothes
                accessory = m_clothes_sec_western_war_nob_01_lo
				#range = { 0 1 } #The Error log gets angry if you have both a range / value and a acessory / its the same thing
			}
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_war_legwear
	            range = { 0 1 }
	        }			
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
				add = 60
				is_lowborn = yes
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }					
					portrait_high_nobles_armor_trigger = {
						CULTURE_INPUT = ek_breton
					}
                }
            }
            modifier = {
                add = 21        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
				is_lowborn = yes
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }					
					portrait_high_nobles_armor_trigger = {
						CULTURE_INPUT = ek_breton
					}
                }
            }
        }
    }
	
    breton_war_low = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_war_nobility_clothes
                accessory = m_clothes_sec_western_war_nob_01_hi
            }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_war_legwear
	            range = { 0 1 }
	        }	
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
                add = 60
				is_lowborn = no
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }					
                }
            }
            modifier = {
                add = 21    # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
				is_lowborn = no
                OR = {
                    portrait_commoner_armor_in_army_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }
                    portrait_low_nobles_armor_in_army_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }
					
                }
            }
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = no	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }
        }
    }
	
    breton_war_high = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = ep2_western_era4_war_nobility_clothes
				range = { 0.51 1 } # For the randomness to work correctly
            }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_war_legwear
	            range = { 0 1 }
	        }	
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
                add = 60
                portrait_high_nobles_armor_trigger = {
                    CULTURE_INPUT = ek_breton
                }
            }
            modifier = {
                add = 21    # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
                portrait_high_nobles_armor_in_army_trigger = {
                    CULTURE_INPUT = ek_breton
                }
            }
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = no	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }
        }
    }

	breton_war_accolade_clothing = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = ek_breton_noble_armor_clothes
				range = { 0 1 }
			}
	        accessory = {
	            mode = add
	            gene = legwear
	            template = ek_breton_noble_armor_legwear
	            range = { 0 1 }
	        }	
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				AND = {
					is_acclaimed = yes
					exists = liege
					liege = { highest_held_title_tier >= tier_duchy	 }				
					portrait_commoner_armor_trigger = { 
						CULTURE_INPUT = ek_breton
					}
				}
			}
            modifier = {
                add = 100
				is_lowborn = no
				has_ep2_dlc_trigger = no
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }					
					portrait_high_nobles_armor_trigger = {
						CULTURE_INPUT = ek_breton
					}
                }
            }			
		}		
	}
}