ek_nedic_keptu_headgear = {

    usage = game
    selection_behavior = weighted_random
    priority = 1

##############################
#							 #	
#			NEDIC KEPTU		 #
#							 #
##############################

 	ek_nedic_keptu_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ek_keptu_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 80
                portrait_commoner_headgear_fallback_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu
                }
			}
			modifier = { # Non-european jesters should not use the jester hat
				add = 1000
                portrait_jester_trigger = {  
                    CULTURE_INPUT = ek_nedic_keptu 
                }
			}
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu
                }
			}
		}
	}

	ek_nedic_keptu_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ek_keptu_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			court_fashion_level_4_headgear_modifier = { INPUT_PARAMETER = ek_nedic_keptu } 
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu
                }
			}
		}
	}

	ek_nedic_keptu_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ek_keptu_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_high_nobles_headgear_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu
                }   
			}
		}
	}

	ek_nedic_keptu_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ek_keptu_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_royalty_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu
                }   
			}
		}
	}
	
	ek_nedic_keptu_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ek_keptu_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
                portrait_imperial_nobles_headgear_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu 
                }
			}
		}
	}
	
## NEDIC KEPTU WAR ##

    ek_nedic_keptu_war_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = ek_keptu_war
                range = { 0 0.49 }
            }
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
                add = 50 
                portrait_war_nobles_helmet_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu
                }
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_nedic_keptu
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_nedic_keptu
                    }
                }
            }
        }
    }

    ek_nedic_keptu_war_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = ek_keptu_war
                range = { 0.51 1 }
            }
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
                add = 50 
                portrait_war_nobles_helmet_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu
                }
                portrait_high_nobles_armor_trigger = {
                    CULTURE_INPUT = ek_nedic_keptu
                }
            }
        }
    }
}