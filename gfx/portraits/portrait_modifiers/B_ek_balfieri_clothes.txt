ek_balfieri_clothes = {

    usage = game
    selection_behavior = weighted_random
    priority = 1

##############################
#							 #	
#			BALFIERI		 #
#							 #
##############################

    balfieri_clothing_lowborn = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
	            template = western_commoner_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }	
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = ek_balfieri
                }
            }
        }
    }

    balfieri_clothing_low_nobles = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
				template = western_low_nobility_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }		
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = ek_balfieri
                }
            }
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = yes	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }			
        }
    }

    balfieri_clothing_high_nobles = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
				template = western_high_nobility_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }		
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = {
                    CULTURE_INPUT = ek_balfieri
                }
            }
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = yes	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }			
        }
    }
	
    ep2_balfieri_clothing_low_nobles = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
				template = ep2_western_era3_low_nobility_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }		
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = {
                    CULTURE_INPUT = ek_balfieri
                }
            }
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = no	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }			
        }
    }

    ep2_balfieri_clothing_high_nobles = {
        dna_modifiers = {
	        accessory = {
	            mode = add
	            gene = clothes
				template = ep2_western_era3_low_nobility_clothes
	            range = { 0 1 }
	        }
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_common_legwear
	            range = { 0 1 }
	        }		
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = {
                    CULTURE_INPUT = ek_balfieri
                }
            }
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = no	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }
        }
    }

}

ek_balfieri_armor = {

    usage = game
    selection_behavior = weighted_random
    priority = 4

    ek_balfieri_war = {
        dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = western_war_nobility_clothes
				range = { 0 1 }
			}
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_war_legwear
	            range = { 0 1 }
	        }			
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
				add = 60
				has_ep2_dlc_trigger = no
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                }
            }
            modifier = {
                add = 21        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
				has_ep2_dlc_trigger = no
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                }
            }
        }
    }

	ek_balfieri_war_high_noble = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
                template = ek_breton_noble_armor_clothes
				range = { 0.51 1 } # For the randomness to work correctly
			}
	        accessory = {
	            mode = add
	            gene = legwear
	            template = ek_breton_noble_armor_legwear
	            range = { 0 1 }
	        }			
		}
        weight = {
            base = 0
            modifier = {
				add = 60
				has_ep2_dlc_trigger = no
                OR = {
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                }
            }
            modifier = {
                add = 21        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
				has_ep2_dlc_trigger = no
                OR = {
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                }
            }
        }
	}
	
#ep2#

    ep2_balfieri_war = {
        dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = ep2_balfieri_war_clothes
                accessory = m_clothes_sec_ep2_western_era1_war_nob_02_lo
				#range = { 0 1 } # For the randomness to work correctly #The Error log gets angry if you have both a range / value and a acessory / its the same thing
			}
	        accessory = {
	            mode = add
	            gene = legwear
	            template = western_war_legwear
	            range = { 0 1 }
	        }			
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
				add = 60
				has_ep2_dlc_trigger = yes
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                }
            }
            modifier = {
                add = 21        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
				has_ep2_dlc_trigger = yes
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                }
            }
        }
    }

	ep2_balfieri_war_high_noble = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
                template = ep2_balfieri_war_clothes
				accessory = m_clothes_sec_ep2_western_era1_war_nob_02_hi
				#range = { 0.51 1 } # For the randomness to work correctly #The Error log gets angry if you have both a range / value and a acessory / its the same thing
			}
	        accessory = {
	            mode = add
	            gene = legwear
	            template = ek_breton_noble_armor_legwear
	            range = { 0 1 }
	        }			
		}
        weight = {
            base = 0
            modifier = {
				add = 60
				has_ep2_dlc_trigger = yes
                OR = {
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                }
            }
            modifier = {
                add = 21        # So priests who are actively serving in a raised army as a commander or knight wear armor instead of priest robes
				has_ep2_dlc_trigger = yes
                OR = {
                    portrait_high_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_balfieri
                    }
                }
            }
        }
	}

}