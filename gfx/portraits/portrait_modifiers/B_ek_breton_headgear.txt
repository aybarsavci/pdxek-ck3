ek_breton_headgear = {

    usage = game
    selection_behavior = weighted_random
    priority = 1

##############################
#							 #	
#			BRETONS		     #
#							 #
##############################

	ek_breton_commoners = {

		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_common
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 80
				portrait_commoner_headgear_fallback_trigger = {
					CULTURE_INPUT = ek_breton
				}
				#NOT = { has_ep2_dlc_trigger = yes }
			}
			modifier = {
				add = 20
				portrait_commoner_clothing_trigger = {
					CULTURE_INPUT = ek_breton
				}
				#NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}
	
	ek_breton_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = monarchs_journey_low
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_headgear_trigger = {
		            CULTURE_INPUT = ek_breton
		        }
		        #has_ep2_dlc_trigger = yes 
		    }
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = ek_breton 
                }
                #NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}
	
	ek_breton_high_nobles_vassal = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = monarchs_journey_high
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				is_independent_ruler = no
                portrait_high_nobles_headgear_trigger = {  
                    CULTURE_INPUT = ek_breton 
                }
               # NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}
	
	ek_breton_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_high_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 55
				is_independent_ruler = yes
                portrait_high_nobles_headgear_trigger = {  
                    CULTURE_INPUT = ek_breton 
                }
               # NOT = { has_ep2_dlc_trigger = yes }
			}
		}
	}
	
	ek_breton_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_royalty_trigger = {
					CULTURE_INPUT = ek_breton 
				}
			}
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = yes	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }			
		}
	}
	
	ek_breton_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = western_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				portrait_imperial_trigger = {
					CULTURE_INPUT = ek_breton 
				}
			}
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = yes	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }			
		}
	}

	ep2_ek_breton_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep2_western_era1_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				is_female = no
				portrait_royalty_trigger = {
					CULTURE_INPUT = ek_breton 
				}
			}
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = no	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }			
		}
	}
	
	ep2_ek_breton_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = ep2_western_era1_imperial
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				is_female = no
				portrait_imperial_trigger = {
					CULTURE_INPUT = ek_breton 
				}
			}
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = no	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }			
		}
	}

	sp3_ek_breton_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp3_western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 55
				is_female = yes
				portrait_royalty_trigger = {
					CULTURE_INPUT = ek_breton 
				}
			}
		}
	}
	
	sp3_ek_breton_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = sp3_western_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 55
				is_female = yes
				portrait_imperial_trigger = {
					CULTURE_INPUT = ek_breton 
				}
			}
		}
	}	
}

ek_breton_war_headgear = {

    usage = game
    selection_behavior = weighted_random
    priority = 4
	
	ek_breton_commoner_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
                template = northern_war
                accessory = m_headgear_sec_northern_war_nob_01_lo
				#range = { 0 1 } # For the randomness to work correctly #The Error log gets angry if you have both a range / value and a accessory / its the same thing
			}
		}
		outfit_tags = { military_outfit }
		weight = {
			base = 0
			modifier = {
				add = 80
				is_lowborn = yes							
				OR = {
						portrait_commoner_armor_trigger = { 
							CULTURE_INPUT = ek_breton
						}
					}
			}
		}
	}

    ek_breton_war_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = western_war
				range = { 0 1 } # For the randomness to work correctly
            }
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
                add = 50 
                portrait_war_nobles_helmet_trigger = {
                    CULTURE_INPUT = ek_breton
                }
                OR = {
                    portrait_commoner_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }
                    portrait_low_nobles_armor_trigger = { 
                        CULTURE_INPUT = ek_breton
                    }
                }
            }
        }
    }

    ek_breton_war_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = headgear
                template = ep2_western_era3_war_nobility
				range = { 0 1 } # For the randomness to work correctly
            }
        }
        outfit_tags = { military_outfit }
        weight = {
            base = 0
            modifier = {
                add = 50 
                portrait_war_nobles_helmet_trigger = {
                    CULTURE_INPUT = ek_breton
                }
                portrait_high_nobles_armor_trigger = {
                    CULTURE_INPUT = ek_breton
                }
            }
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_ep2_dlc_trigger = no	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }								
        }
    }
	
	breton_war_accolade_headwear = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = headgear
				template = pol_war
                accessory = m_headgear_sec_pol_era3_war_nob_01
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 100
				AND = {
				is_acclaimed = yes
				exists = liege
				liege = { highest_held_title_tier >= tier_duchy	 }					
					portrait_commoner_armor_trigger = { 
						CULTURE_INPUT = ek_breton
					}
				}
			}
			modifier = {					# this is a better way of doing the dlc thing, i dont think it matters too much but its a bit cleaner, maybe we should consider switching to this
				factor = 0
				has_pol_dlc_trigger = no	# basically, if you have the dlc, multiply the result of all previous modifiers by zero - so that it uses the other one instead
            }											
		}		
	}
}